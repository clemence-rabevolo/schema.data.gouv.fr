{"remainingRequest":"/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/babel-loader/lib/index.js??ref--3-1!/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/site/.vuepress/theme/global-components/MenuSchema.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/site/.vuepress/theme/global-components/MenuSchema.vue","mtime":1628180837131},{"path":"/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL2dlb2YvcHJvamVjdHMvcmVmb250ZS1zY2hlbWEvc2NoZW1hLmRhdGEuZ291di5mci9zaXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZW50cmllcy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWVudVNjaGVtYSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNjaGVtYV9pbmZvczogbnVsbCwKICAgICAgc2NoZW1hOiBudWxsLAogICAgICB2ZXJzaW9uOiBudWxsLAogICAgICBvcHRpb25TZWxlY3Q6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBzaSA9IHJlcXVpcmUoJy4uLy4uL3B1YmxpYy9zY2hlbWEtaW5mb3MuanNvbicpOwoKICAgIHRoaXMuc2NoZW1hID0gdGhpcy4kcm91dGVyLmN1cnJlbnRSb3V0ZS5wYXRoLnNwbGl0KCcvJylbMl0gKyAiLyIgKyB0aGlzLiRyb3V0ZXIuY3VycmVudFJvdXRlLnBhdGguc3BsaXQoJy8nKVszXTsKCiAgICBmb3IgKHZhciBfaSA9IDAsIF9PYmplY3QkZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHNpKTsgX2kgPCBfT2JqZWN0JGVudHJpZXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgIHZhciBfT2JqZWN0JGVudHJpZXMkX2kgPSBfc2xpY2VkVG9BcnJheShfT2JqZWN0JGVudHJpZXNbX2ldLCAyKSwKICAgICAgICAgIGtleSA9IF9PYmplY3QkZW50cmllcyRfaVswXSwKICAgICAgICAgIHZhbHVlID0gX09iamVjdCRlbnRyaWVzJF9pWzFdOwoKICAgICAgaWYgKGtleSA9PSB0aGlzLnNjaGVtYSkgewogICAgICAgIHRoaXMuc2NoZW1hX2luZm9zID0gdmFsdWU7CiAgICAgIH0KICAgIH0KCiAgICBpZiAodGhpcy4kcm91dGVyLmN1cnJlbnRSb3V0ZS5wYXRoLnNwbGl0KCcvJykubGVuZ3RoID4gNSkgewogICAgICB0aGlzLnZlcnNpb24gPSB0aGlzLiRyb3V0ZXIuY3VycmVudFJvdXRlLnBhdGguc3BsaXQoJy8nKVs0XTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMudmVyc2lvbiA9IHRoaXMuc2NoZW1hX2luZm9zWydsYXRlc3QnXTsKICAgIH0KCiAgICB0aGlzLm9wdGlvblNlbGVjdCA9IHRoaXMudmVyc2lvbjsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdvdG9JbnRlcm5hbDogZnVuY3Rpb24gZ290b0ludGVybmFsKHBhZ2UpIHsKICAgICAgdmFyIGxpbmsgPSAnL3NjaGVtYXMvJyArIHRoaXMuc2NoZW1hICsgJy8nICsgdGhpcy52ZXJzaW9uICsgJy8nICsgcGFnZTsKICAgICAgaWYgKHRoaXMuJHJvdXRlci5jdXJyZW50Um91dGUucGF0aCAhPT0gbGluaykgdGhpcy4kcm91dGVyLnB1c2gobGluayk7CiAgICB9LAogICAgZ290b1NjaGVtYTogZnVuY3Rpb24gZ290b1NjaGVtYSgpIHsKICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgdGhpcy5zY2hlbWFfaW5mb3NbJ3ZlcnNpb25zJ11bdGhpcy52ZXJzaW9uXVsnc2NoZW1hX3VybCddOwogICAgfSwKICAgIGdvdG9FeHRlcm5hbExpbms6IGZ1bmN0aW9uIGdvdG9FeHRlcm5hbExpbmsobGluaykgewogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGxpbms7CiAgICB9LAogICAgY2hhbmdlVmVyc2lvbjogZnVuY3Rpb24gY2hhbmdlVmVyc2lvbigpIHsKICAgICAgdmFyIGxpbmsgPSAnL3NjaGVtYXMvJyArIHRoaXMuc2NoZW1hICsgJy8nICsgdGhpcy5vcHRpb25TZWxlY3QgKyAnLyc7CiAgICAgIGlmICh0aGlzLiRyb3V0ZXIuY3VycmVudFJvdXRlLnBhdGggIT09IGxpbmspIHRoaXMuJHJvdXRlci5wdXNoKGxpbmspOwogICAgfQogIH0KfTs="},{"version":3,"sources":["MenuSchema.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,IADA;AAEA,MAAA,MAAA,EAAA,IAFA;AAGA,MAAA,OAAA,EAAA,IAHA;AAIA,MAAA,YAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,QAAA,EAAA,EAVA;AAYA,EAAA,OAZA,qBAYA;AACA,QAAA,EAAA,GAAA,OAAA,CAAA,gCAAA,CAAA;;AACA,SAAA,MAAA,GAAA,KAAA,OAAA,CAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,GAAA,GAAA,KAAA,OAAA,CAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;;AACA,uCAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,qCAAA;AAAA;AAAA,UAAA,GAAA;AAAA,UAAA,KAAA;;AACA,UAAA,GAAA,IAAA,KAAA,MAAA,EAAA;AACA,aAAA,YAAA,GAAA,KAAA;AACA;AACA;;AACA,QAAA,KAAA,OAAA,CAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA,GAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AACA,WAAA,OAAA,GAAA,KAAA,OAAA,CAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,KAFA,MAEA;AACA,WAAA,OAAA,GAAA,KAAA,YAAA,CAAA,QAAA,CAAA;AACA;;AACA,SAAA,YAAA,GAAA,KAAA,OAAA;AACA,GA1BA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,IADA,EACA;AACA,UAAA,IAAA,GAAA,cAAA,KAAA,MAAA,GAAA,GAAA,GAAA,KAAA,OAAA,GAAA,GAAA,GAAA,IAAA;AACA,UAAA,KAAA,OAAA,CAAA,YAAA,CAAA,IAAA,KAAA,IAAA,EAAA,KAAA,OAAA,CAAA,IAAA,CAAA,IAAA;AACA,KAJA;AAKA,IAAA,UALA,wBAKA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,MAAA,CAAA,QAAA,CAAA,MAAA,GAAA,KAAA,YAAA,CAAA,UAAA,EAAA,KAAA,OAAA,EAAA,YAAA,CAAA;AACA,KAPA;AAQA,IAAA,gBARA,4BAQA,IARA,EAQA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,IAAA;AACA,KAVA;AAWA,IAAA,aAXA,2BAWA;AACA,UAAA,IAAA,GAAA,cAAA,KAAA,MAAA,GAAA,GAAA,GAAA,KAAA,YAAA,GAAA,GAAA;AACA,UAAA,KAAA,OAAA,CAAA,YAAA,CAAA,IAAA,KAAA,IAAA,EAAA,KAAA,OAAA,CAAA,IAAA,CAAA,IAAA;AACA;AAdA;AA3BA,CAAA","sourcesContent":["<template>\n  <div>\n      <div v-if=\"schema_infos && version\">\n        <div class=\"boxes\">\n            <div class=\"box-left\">\n                Version du schéma :\n                <select class=\"fr-select-custom\" @change=\"changeVersion()\" v-model=\"optionSelect\" >\n                    <option :selected=\"version == key\" v-for=\"(value, key) in schema_infos.versions\" v-bind:key=\"key\" :value=\"key\">{{ key }}</option>\n                </select>\n            </div>\n            <div class=\"box-right\">\n                <button \n                    @click=\"gotoInternal('')\" \n                    class=\"fr-btn fr-btn--secondary\"\n                >\n                    <img src=\"../../public/assets/info.png\" width=\"15\" />&nbsp;\n                    Infos\n                </button>\n                <button \n                    @click=\"gotoSchema()\" \n                    class=\"fr-btn fr-btn--secondary\"\n                >\n                    <img src=\"../../public/assets/structure-moleculaire.png\" width=\"15\" />&nbsp;\n                    Schéma\n                </button>\n                <button \n                    @click=\"gotoExternalLink(schema_infos['homepage'])\" \n                    class=\"fr-btn fr-btn--secondary\"\n                >\n                    <img src=\"../../public/assets/valider-git.png\" width=\"15\" />&nbsp;\n                    Git\n                </button>\n                <span v-if=\"schema_infos['versions'][version]['pages'].includes('CHANGELOG.md')\">\n                    <button \n                        @click=\"gotoInternal('CHANGELOG.html')\"\n                        class=\"fr-btn fr-btn--secondary\"\n                    >\n                        <img src=\"../../public/assets/couple-de-fleches-changeant-de-place.png\" width=\"15\" />&nbsp;\n                        Changements\n                    </button>\n                </span>\n            </div>\n        </div>\n        <br /><br />\n        <span v-if=\"schema_infos['versions'][version]['pages'].includes('documentation.md')\">\n            <button \n                class=\"fr-btn\"\n                @click=\"gotoInternal('documentation.html')\"\n            >\n                <img src=\"../../public/assets/file.png\" width=\"15\" />&nbsp;\n                Lire la documentation\n            </button>\n        </span>\n        <span v-if=\"schema_infos['external_doc']\">\n            <button\n                class=\"fr-btn\"\n                @click=\"gotoExternalLink(schema_infos['external_doc'])\"\n            >\n                <img src=\"../../public/assets/file.png\" width=\"15\" />&nbsp;\n                Documentation externe\n            </button>\n        </span>\n        <span v-if=\"schema_infos['external_tool']\">\n            <button \n                class=\"fr-btn\"\n                @click=\"gotoExternalLink(schema_infos['external_tool'])\"\n            >\n                <img src=\"../../public/assets/pencil.png\" width=\"15\" />&nbsp;\n                Saisir des données\n            </button>\n        </span>\n        <span v-if=\"schema && schema_infos['type'] == 'tableschema'\">\n            <button\n                class=\"fr-btn\"\n                @click=\"gotoExternalLink('https://publier.etalab.studio/select?schema='+schema)\"\n            >\n                <img src=\"../../public/assets/pencil.png\" width=\"15\" />&nbsp;\n                Saisir des données\n            </button>\n        </span>\n        <span v-if=\"schema && schema_infos['type'] == 'tableschema'\">\n            <button \n                class=\"fr-btn\"\n                @click=\"gotoExternalLink('https://publier.etalab.studio/upload?schema='+schema)\"\n            >\n                <img src=\"../../public/assets/checked-box.png\" width=\"15\" />&nbsp;\n                Valider mes données\n            </button>\n        </span>\n      </div>\n      <br />\n      <br />\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"MenuSchema\",\n  data() {\n    return {\n        schema_infos: null,\n        schema: null,\n        version: null,\n        optionSelect: null,\n    };\n  },\n  computed: {\n  },\n  mounted() {\n      const si = require('../../public/schema-infos.json');\n      this.schema = this.$router.currentRoute.path.split('/')[2]+\"/\"+this.$router.currentRoute.path.split('/')[3]\n      for (const [key, value] of Object.entries(si)) {\n        if(key == this.schema) {\n            this.schema_infos = value;\n        }\n      }\n      if (this.$router.currentRoute.path.split('/').length > 5) {\n          this.version = this.$router.currentRoute.path.split('/')[4]\n      } else {\n          this.version = this.schema_infos['latest']\n      }\n      this.optionSelect = this.version\n  },\n  methods: {\n      gotoInternal(page){\n          let link = '/schemas/'+this.schema+'/'+this.version+'/'+page\n          if (this.$router.currentRoute.path !== link) this.$router.push(link)\n      },\n      gotoSchema(){\n        window.location.href = window.location.origin + this.schema_infos['versions'][this.version]['schema_url']\n      },\n      gotoExternalLink(link){\n        window.location.href = link\n      },\n      changeVersion(){\n          let link = '/schemas/'+this.schema+'/'+this.optionSelect+'/'\n          if (this.$router.currentRoute.path !== link) this.$router.push(link)\n      }\n  },\n};\n</script>\n\n<style>\n\n.boxes{\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin-top: 30px;\n}\n\n.box-left{\n  width: 50%;\n  font-size: 20px;\n  text-align: left;\n  line-height: 40px;\n}\n.box-right{\n  width: 50%;\n  text-align: right;\n}\n\n.fr-select-custom{\n    color: var(--g800);\n    background-color: var(--g200);\n    box-shadow: inset 0 -2px 0 0 var(--g600);\n    border: 0px;\n    width: 100px;\n    height: 40px;\n    font-size: 18px;\n    margin-left: 20px;\n}\n\n</style>\n"],"sourceRoot":"site/.vuepress/theme/global-components"}]}