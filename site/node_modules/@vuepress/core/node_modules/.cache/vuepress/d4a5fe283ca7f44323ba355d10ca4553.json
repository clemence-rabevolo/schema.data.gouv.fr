{"remainingRequest":"/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/babel-loader/lib/index.js??ref--3-1!/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/vuepress-plugin-matomo/inject.js","dependencies":[{"path":"/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/vuepress-plugin-matomo/inject.js","mtime":499162500000},{"path":"/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7CgovKiBnbG9iYWwgTUFUT01PX1NJVEVfSUQsIE1BVE9NT19UUkFDS0VSX1VSTCwgTUFUT01PX0VOQUJMRV9MSU5LX1RSQUNLSU5HLCBNQVRPTU9fUkVRVUlSRV9DT05TRU5ULCBNQVRPTU9fUkVNRU1CRVJfQ09OU0VOVCwgTUFUT01PX1RSQUNLRVJfSlNfRklMRSwgTUFUT01PX1RSQUNLRVJfUEhQX0ZJTEUgKi8KLy8gTWF0b21vIGludGVncmF0aW9uLiBUaGlzIGlzIG1vc3RseSBhIGdlbmVyYWxpemVkIHZlcnNpb24gb2YgdGhlIGJhc2ljIG1hdG9tbwovLyB0cmFja2VyIGNvZGUgeW91J2QgaW5zZXJ0IGluIGEgSlMgcGFnZS4gSG93ZXZlciwgc2luY2UgdnVlcHJlc3MgaXMgU1NSLCBpdAovLyByZXF1aXJlcyBzb21lIHNwZWNpYWwgd29ya2Fyb3VuZHMgdG8gbWFrZSBzdXJlIHBhcSBvYmplY3Qgc3RvcmFnZSBoYXBwZW5zCi8vIGNvcnJlY3RseS4KZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIChfcmVmKSB7CiAgdmFyIHJvdXRlciA9IF9yZWYucm91dGVyOwoKICAvLyBEb24ndCByZW1vdmUgd2luZG93IHR5cGVvZiBjaGVjaywgYXMgdGhpcyB3aGF0IG1ha2VzIHN1cmUgdGhlIFNTUiBwYXJzZXIKICAvLyBkb2Vzbid0IGVycm9yIG91dCBkdXJpbmcgYnVpbGRzLgogIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIE1BVE9NT19TSVRFX0lEICYmIE1BVE9NT19UUkFDS0VSX1VSTCkgewogICAgLy8gV2UncmUgaW4gU1NSIHNwYWNlIGhlcmUsIG1lYW5pbmcgdGhhdCB3ZSBoYXZlIHRvIGV4cGxpY3RseSBhdHRhY2ggX3BhcSB0bwogICAgLy8gdGhlIHdpbmRvdyBpbiBvcmRlciB0byBzdG9yZSBpdCBnbG9iYWxseS4KICAgIGlmICh3aW5kb3cuX3BhcSA9PSB1bmRlZmluZWQpIHsKICAgICAgd2luZG93Ll9wYXEgPSBbXTsKICAgIH0gLy8gQ3JlYXRlIGNvbnZlbmllbmNlIHZhcmlhYmxlIGhlcmUsIGJ1dCBkb24ndCBleHBlY3QgaXQgdG8gbGFzdC4gVXNlCiAgICAvLyB3aW5kb3cuX3BhcSBlbHNld2hlcmUgd2hlbiBuZWVkZWQsIGluY2x1ZGluZyBjbG9zdXJlIHNjb3Blcy4KCgogICAgdmFyIF9wYXEgPSB3aW5kb3cuX3BhcTsgLy8gSWYgdXNlciByZXF1ZXN0cyBjb25zZW50IGNoZWNraW5nLCBkbyB0aGlzIGJlZm9yZSB3ZSBhY3R1YWxseSB0cmFjay4KICAgIC8vIE5vdGU6IHRoaXMgZG9lc24ndCB3b3JrIGF0IHRoZSBtb21lbnQgYmVjYXVzZSB0aGUgdXNlciBoYXMgbm8gd2F5IHRvIHNldAogICAgLy8gd2hldGhlciBjb25zZW50IHdhcyBnaXZlbi4gT29wcy4KCiAgICBpZiAoTUFUT01PX1JFUVVJUkVfQ09OU0VOVCkgewogICAgICBfcGFxLnB1c2goWydyZXF1aXJlQ29uc2VudCddKTsKCiAgICAgIGlmIChNQVRPTU9fUkVNRU1CRVJfQ09OU0VOVCkgewogICAgICAgIF9wYXEucHVzaChbJ3JlbWVtYmVyQ29uc2VudEdpdmVuJ10pOwogICAgICB9CiAgICB9IC8vIFRyYWNrZXIgbWV0aG9kcyBsaWtlICJzZXRDdXN0b21EaW1lbnNpb24iIHNob3VsZCBiZSBjYWxsZWQgYmVmb3JlCiAgICAvLyAidHJhY2tQYWdlVmlldyIuCgoKICAgIF9wYXEucHVzaChbJ3RyYWNrUGFnZVZpZXcnXSk7CgogICAgaWYgKE1BVE9NT19FTkFCTEVfTElOS19UUkFDS0lORykgewogICAgICBfcGFxLnB1c2goWydlbmFibGVMaW5rVHJhY2tpbmcnXSk7CiAgICB9CgogICAgKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHUgPSBNQVRPTU9fVFJBQ0tFUl9VUkw7IC8vIE1ha2Ugc3VyZSBVUkxzIGVuZCBpbiBhIHNsYXNoCgogICAgICBpZiAodS5sZW5ndGggPiAwICYmIHVbdS5sZW5ndGggLSAxXSAhPSAiLyIpIHsKICAgICAgICB1ID0gdS5jb25jYXQoIi8iKTsKICAgICAgfQoKICAgICAgX3BhcS5wdXNoKFsnc2V0VHJhY2tlclVybCcsIHUgKyBNQVRPTU9fVFJBQ0tFUl9QSFBfRklMRV0pOwoKICAgICAgX3BhcS5wdXNoKFsnc2V0U2l0ZUlkJywgTUFUT01PX1NJVEVfSURdKTsKCiAgICAgIHZhciBkID0gZG9jdW1lbnQsCiAgICAgICAgICBnID0gZC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKSwKICAgICAgICAgIHMgPSBkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTsKICAgICAgZy50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7CiAgICAgIGcuYXN5bmMgPSB0cnVlOwogICAgICBnLmRlZmVyID0gdHJ1ZTsKICAgICAgZy5zcmMgPSB1ICsgTUFUT01PX1RSQUNLRVJfSlNfRklMRTsKICAgICAgcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShnLCBzKTsKICAgIH0pKCk7CgogICAgcm91dGVyLmFmdGVyRWFjaChmdW5jdGlvbiAodG8pIHsKICAgICAgLy8gcm91dGVyLmFmdGVyRWFjaCBzZWVtcyB0byBmaXJlIGJlZm9yZSB0aGUgYWN0dWFsIG5hdmlnYXRpb24gKD8pLCBzbyBydW4KICAgICAgLy8gb3VyIHB1c2ggaW4gdGhlIG5leHQgbG9vcCwgYWZ0ZXIgdGhlIG5ldyBkb2N1bWVudCBoYXMgYmVlbiBzZXQuCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIC8vIFVzZSB3aW5kb3cgZ2xvYmFsIGhlcmUsIHRoZSBjb252ZW5pZW5jZSB2YXJpYWJsZSBkb2Vzbid0IHN0aWNrIGFyb3VuZAogICAgICAgIC8vIGZvciBzb21lIHJlYXNvbi4KICAgICAgICB3aW5kb3cuX3BhcS5wdXNoKFsnc2V0RG9jdW1lbnRUaXRsZScsIGRvY3VtZW50LnRpdGxlXSk7CgogICAgICAgIHdpbmRvdy5fcGFxLnB1c2goWydzZXRDdXN0b21VcmwnLCB0by5mdWxsUGF0aF0pOwoKICAgICAgICB3aW5kb3cuX3BhcS5wdXNoKFsndHJhY2tQYWdlVmlldyddKTsKICAgICAgfSwgMCk7CiAgICB9KTsKICB9Cn0pOw=="},{"version":3,"sources":["/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/vuepress-plugin-matomo/inject.js"],"names":["router","process","env","NODE_ENV","window","MATOMO_SITE_ID","MATOMO_TRACKER_URL","_paq","undefined","MATOMO_REQUIRE_CONSENT","push","MATOMO_REMEMBER_CONSENT","MATOMO_ENABLE_LINK_TRACKING","u","length","concat","MATOMO_TRACKER_PHP_FILE","d","document","g","createElement","s","getElementsByTagName","type","async","defer","src","MATOMO_TRACKER_JS_FILE","parentNode","insertBefore","afterEach","to","setTimeout","title","fullPath"],"mappings":";;;AAAA;AAEA;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAAA,MAAbA,MAAa,QAAbA,MAAa;;AAC7B;AACA;AACA,MAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyC,OAAOC,MAAP,KAAkB,WAA3D,IACAC,cADA,IACkBC,kBADtB,EAC0C;AACxC;AACA;AACA,QAAIF,MAAM,CAACG,IAAP,IAAeC,SAAnB,EAA8B;AAC5BJ,MAAAA,MAAM,CAACG,IAAP,GAAc,EAAd;AACD,KALuC,CAMxC;AACA;;;AACA,QAAIA,IAAI,GAAGH,MAAM,CAACG,IAAlB,CARwC,CASxC;AACA;AACA;;AACA,QAAIE,sBAAJ,EAA4B;AAC1BF,MAAAA,IAAI,CAACG,IAAL,CAAU,CAAC,gBAAD,CAAV;;AACA,UAAIC,uBAAJ,EAA6B;AAC3BJ,QAAAA,IAAI,CAACG,IAAL,CAAU,CAAC,sBAAD,CAAV;AACD;AACF,KAjBuC,CAkBxC;AACA;;;AACAH,IAAAA,IAAI,CAACG,IAAL,CAAU,CAAC,eAAD,CAAV;;AACA,QAAIE,2BAAJ,EAAiC;AAC/BL,MAAAA,IAAI,CAACG,IAAL,CAAU,CAAC,oBAAD,CAAV;AACD;;AACD,KAAC,YAAW;AACV,UAAIG,CAAC,GAACP,kBAAN,CADU,CAEV;;AACA,UAAIO,CAAC,CAACC,MAAF,GAAW,CAAX,IAAgBD,CAAC,CAACA,CAAC,CAACC,MAAF,GAAW,CAAZ,CAAD,IAAmB,GAAvC,EAA4C;AAC1CD,QAAAA,CAAC,GAAGA,CAAC,CAACE,MAAF,CAAS,GAAT,CAAJ;AACD;;AACDR,MAAAA,IAAI,CAACG,IAAL,CAAU,CAAC,eAAD,EAAkBG,CAAC,GAACG,uBAApB,CAAV;;AACAT,MAAAA,IAAI,CAACG,IAAL,CAAU,CAAC,WAAD,EAAcL,cAAd,CAAV;;AACA,UAAIY,CAAC,GAACC,QAAN;AAAA,UAAgBC,CAAC,GAACF,CAAC,CAACG,aAAF,CAAgB,QAAhB,CAAlB;AAAA,UAA6CC,CAAC,GAACJ,CAAC,CAACK,oBAAF,CAAuB,QAAvB,EAAiC,CAAjC,CAA/C;AACAH,MAAAA,CAAC,CAACI,IAAF,GAAO,iBAAP;AACAJ,MAAAA,CAAC,CAACK,KAAF,GAAQ,IAAR;AACAL,MAAAA,CAAC,CAACM,KAAF,GAAQ,IAAR;AACAN,MAAAA,CAAC,CAACO,GAAF,GAAMb,CAAC,GAACc,sBAAR;AACAN,MAAAA,CAAC,CAACO,UAAF,CAAaC,YAAb,CAA0BV,CAA1B,EAA4BE,CAA5B;AACD,KAdD;;AAeArB,IAAAA,MAAM,CAAC8B,SAAP,CAAiB,UAACC,EAAD,EAAQ;AACvB;AACA;AACAC,MAAAA,UAAU,CAAC,YAAM;AACf;AACA;AACA5B,QAAAA,MAAM,CAACG,IAAP,CAAYG,IAAZ,CAAiB,CAAC,kBAAD,EAAqBQ,QAAQ,CAACe,KAA9B,CAAjB;;AACA7B,QAAAA,MAAM,CAACG,IAAP,CAAYG,IAAZ,CAAiB,CAAC,cAAD,EAAiBqB,EAAE,CAACG,QAApB,CAAjB;;AACA9B,QAAAA,MAAM,CAACG,IAAP,CAAYG,IAAZ,CAAiB,CAAC,eAAD,CAAjB;AACD,OANS,EAMP,CANO,CAAV;AAOD,KAVD;AAWD;AACF,CAvDD","sourcesContent":["/* global MATOMO_SITE_ID, MATOMO_TRACKER_URL, MATOMO_ENABLE_LINK_TRACKING, MATOMO_REQUIRE_CONSENT, MATOMO_REMEMBER_CONSENT, MATOMO_TRACKER_JS_FILE, MATOMO_TRACKER_PHP_FILE */\n\n// Matomo integration. This is mostly a generalized version of the basic matomo\n// tracker code you'd insert in a JS page. However, since vuepress is SSR, it\n// requires some special workarounds to make sure paq object storage happens\n// correctly.\nexport default ({ router }) => {\n  // Don't remove window typeof check, as this what makes sure the SSR parser\n  // doesn't error out during builds.\n  if (process.env.NODE_ENV === 'production' && typeof window !== 'undefined' &&\n      MATOMO_SITE_ID && MATOMO_TRACKER_URL) {\n    // We're in SSR space here, meaning that we have to explictly attach _paq to\n    // the window in order to store it globally.\n    if (window._paq == undefined) {\n      window._paq = [];\n    }\n    // Create convenience variable here, but don't expect it to last. Use\n    // window._paq elsewhere when needed, including closure scopes.\n    let _paq = window._paq;\n    // If user requests consent checking, do this before we actually track.\n    // Note: this doesn't work at the moment because the user has no way to set\n    // whether consent was given. Oops.\n    if (MATOMO_REQUIRE_CONSENT) {\n      _paq.push(['requireConsent']);\n      if (MATOMO_REMEMBER_CONSENT) {\n        _paq.push(['rememberConsentGiven']);\n      }\n    }\n    // Tracker methods like \"setCustomDimension\" should be called before\n    // \"trackPageView\".\n    _paq.push(['trackPageView']);\n    if (MATOMO_ENABLE_LINK_TRACKING) {\n      _paq.push(['enableLinkTracking']);\n    }\n    (function() {\n      var u=MATOMO_TRACKER_URL;\n      // Make sure URLs end in a slash\n      if (u.length > 0 && u[u.length - 1] != \"/\") {\n        u = u.concat(\"/\");\n      }\n      _paq.push(['setTrackerUrl', u+MATOMO_TRACKER_PHP_FILE]);\n      _paq.push(['setSiteId', MATOMO_SITE_ID]);\n      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];\n      g.type='text/javascript';\n      g.async=true;\n      g.defer=true;\n      g.src=u+MATOMO_TRACKER_JS_FILE;\n      s.parentNode.insertBefore(g,s);\n    })();\n    router.afterEach((to) => {\n      // router.afterEach seems to fire before the actual navigation (?), so run\n      // our push in the next loop, after the new document has been set.\n      setTimeout(() => {\n        // Use window global here, the convenience variable doesn't stick around\n        // for some reason.\n        window._paq.push(['setDocumentTitle', document.title]);\n        window._paq.push(['setCustomUrl', to.fullPath]);\n        window._paq.push(['trackPageView']);\n      }, 0);\n    });\n  }\n}\n"]}]}