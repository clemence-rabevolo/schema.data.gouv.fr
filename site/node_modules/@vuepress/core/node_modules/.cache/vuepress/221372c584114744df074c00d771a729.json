{"remainingRequest":"/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/babel-loader/lib/index.js??ref--3-1!/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/site/.vuepress/theme/global-components/InventoryDataAirtable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/site/.vuepress/theme/global-components/InventoryDataAirtable.vue","mtime":1628086293277},{"path":"/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/geof/projects/refonte-schema/schema.data.gouv.fr/site/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL2dlb2YvcHJvamVjdHMvcmVmb250ZS1zY2hlbWEvc2NoZW1hLmRhdGEuZ291di5mci9zaXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmVudHJpZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJJbnZlbnRvcnlEYXRhQWlydGFibGUiLAogIHByb3BzOiBbImZpZWxkcyIsICJzdGF0dXNlcyJdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhcGk6ICJodHRwczovL2FwaS5haXJ0YWJsZS5jb20vdjAvIiwKICAgICAgYmFzZTogImFwcElTUXFmdlJQTWc2Q0gzL1N1aXZpIiwKICAgICAga2V5OiAiIgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICBheGlvcyh7CiAgICAgIHVybDogIiIuY29uY2F0KHRoaXMuYXBpKS5jb25jYXQodGhpcy5iYXNlKSwKICAgICAgaGVhZGVyczogewogICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy5rZXkpCiAgICAgIH0KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICB2YXIgZGF0YXNldHMgPSBfdGhpczIudHJhbmZvcm1SZWNvcmRzKHJlcy5kYXRhLnJlY29yZHMpOwoKICAgICAgX3RoaXMyLiRlbWl0KCJpbnB1dCIsIGRhdGFzZXRzKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgdHJhbmZvcm1SZWNvcmRzOiBmdW5jdGlvbiB0cmFuZm9ybVJlY29yZHMocmVjb3JkcykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gcmVjb3Jkcy5tYXAoZnVuY3Rpb24gKHJlY29yZCkgewogICAgICAgIHZhciByb3cgPSB7fTsKICAgICAgICBPYmplY3QuZW50cmllcyhfdGhpczMuZmllbGRzKS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSwKICAgICAgICAgICAgICBmaWVsZCA9IF9yZWYyWzBdLAogICAgICAgICAgICAgIGNvbHVtbiA9IF9yZWYyWzFdOwoKICAgICAgICAgIHJvd1tjb2x1bW5dID0gcmVjb3JkLmZpZWxkc1tmaWVsZF07CiAgICAgICAgfSk7CiAgICAgICAgcm93LnJhdyA9IHJlY29yZC5maWVsZHM7CiAgICAgICAgcm93LnN0YXR1cyA9IF90aGlzMy5zdGF0dXNlcy5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgICByZXR1cm4gcy5sYWJlbCA9PSByb3dbIlN0YXR1dCBk4oCZb3V2ZXJ0dXJlIl07CiAgICAgICAgfSk7CiAgICAgICAgcm93LnZpc2libGUgPSB0cnVlOwogICAgICAgIHJldHVybiByb3c7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["InventoryDataAirtable.vue"],"names":[],"mappings":";;;;;;;;;AAGA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,uBADA;AAEA,EAAA,KAAA,EAAA,CAAA,QAAA,EAAA,UAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,8BADA;AAEA,MAAA,IAAA,EAAA,yBAFA;AAGA,MAAA,GAAA,EAAA;AAHA,KAAA;AAKA,GATA;AAUA,EAAA,OAVA,qBAUA;AAAA;;AACA,IAAA,KAAA,CAAA;AACA,MAAA,GAAA,YAAA,KAAA,GAAA,SAAA,KAAA,IAAA,CADA;AAEA,MAAA,OAAA,EAAA;AACA,QAAA,aAAA,mBAAA,KAAA,GAAA;AADA;AAFA,KAAA,CAAA,CAKA,IALA,CAKA,UAAA,GAAA,EAAA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,eAAA,CAAA,GAAA,CAAA,IAAA,CAAA,OAAA,CAAA;;AACA,MAAA,MAAA,CAAA,KAAA,CAAA,OAAA,EAAA,QAAA;AACA,KARA;AASA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,2BACA,OADA,EACA;AAAA;;AACA,UAAA,KAAA,GAAA,IAAA;;AAEA,aAAA,OAAA,CAAA,GAAA,CAAA,UAAA,MAAA,EAAA;AACA,YAAA,GAAA,GAAA,EAAA;AAEA,QAAA,MAAA,CAAA,OAAA,CAAA,MAAA,CAAA,MAAA,EAAA,OAAA,CAAA,gBAAA;AAAA;AAAA,cAAA,KAAA;AAAA,cAAA,MAAA;;AACA,UAAA,GAAA,CAAA,MAAA,CAAA,GAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA;AACA,SAFA;AAIA,QAAA,GAAA,CAAA,GAAA,GAAA,MAAA,CAAA,MAAA;AACA,QAAA,GAAA,CAAA,MAAA,GAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CACA,UAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,KAAA,IAAA,GAAA,CAAA,oBAAA,CAAA;AAAA,SADA,CAAA;AAGA,QAAA,GAAA,CAAA,OAAA,GAAA,IAAA;AAEA,eAAA,GAAA;AACA,OAdA,CAAA;AAeA;AAnBA;AArBA,CAAA","sourcesContent":["<template />\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"InventoryDataAirtable\",\n  props: [\"fields\", \"statuses\"],\n  data() {\n    return {\n      api: \"https://api.airtable.com/v0/\",\n      base: \"appISQqfvRPMg6CH3/Suivi\",\n      key: \"\",\n    };\n  },\n  mounted() {\n    axios({\n      url: `${this.api}${this.base}`,\n      headers: {\n        Authorization: `Bearer ${this.key}`,\n      },\n    }).then((res) => {\n      const datasets = this.tranformRecords(res.data.records);\n      this.$emit(\"input\", datasets);\n    });\n  },\n  methods: {\n    tranformRecords(records) {\n      const _this = this;\n\n      return records.map((record) => {\n        const row = {};\n\n        Object.entries(this.fields).forEach(([field, column]) => {\n          row[column] = record.fields[field];\n        });\n\n        row.raw = record.fields;\n        row.status = this.statuses.find(\n          (s) => s.label == row[\"Statut dâ€™ouverture\"]\n        );\n        row.visible = true;\n\n        return row;\n      });\n    },\n  },\n};\n</script>\n"],"sourceRoot":"site/.vuepress/theme/global-components"}]}